### AWS 클라우드

네트워크 인프라를 사용하기 위해 사용

VM 확장 버전

- 네트워크 계층에서의 가상화 단계

| SW  | JVM       |
| --- | --------- |
| OS  | 라우터, 스위치  |
| HW  | Nic, 물리연결 |

OS와 HW단계를 가상화 한것이 클라우드 (1~4단계)

라우터 = 포트 연결

스위치 / IP / 패킷

Nic ( Network interface card) =>> DB설정

------

- AWS에서 많이 사용하는 서비스
  
  - 컴퓨팅 >> EC2
  
  - 스토리지 >> S3
  
  - DB >> RDS
  
  - 네트워킹 및 콘텐츠 전송 >> Route53

-----------

- 인스턴스 
  
  - 내가 만들 서버
  
  - ex) ubuntu 20.04 LTS (프리티어)
    
    - 프리티어는 aws에서 무료로 제공해 주는 것이다

- 인스턴스 유형
  
  - CPU용량 설정
  
  - ex) t2.micro (프리티어)

-------------

- Public IP = 유동IP
  
  - 재실행을 할때마다 IP가 바뀜
  
  - 탄력적 IP를 연결해줌으로서 고정IP로 변경된다
    
    - 재실행해도 IP 불변

- 인스턴스 삭제시
  
  - 인스턴스 상태가 '종료됨'으로 안되어 있을시
    
    - 보안그룹 삭제 불가
      
      - 아직 사용중인 것 (종료 = 삭제)

-----------

- 탄력적 IP 사용시 요금발생 약 700~750원
  
  - 연결해놓지 않으면 (만들어놓고 사용하지 않으면) 가격이 기하급수적으로 청구됨

- 탄력적 IP연결
  
  - 보안 그룹 - 인바운드 규칙 편집
    
    - 규칙 추가
      
      - 유형 > 모든 ICMP-IPv4
      
      - 프로토콜 > ICMP
      
      - 포트 범위 > 전체
      
      - 소스 > 서브넷 마스크 0.0.0.0/0 선택(접속 허용 범위 IP)
        
        - 추가
          
          - 추가후 Public IP와 탄력적 IP와 같은 것을 볼수 있다
      
      - ICMP는 외부에서도 접속가능한 규칙을 만든 것
  
  - 인스턴스 재부팅 (변경된 인바운드 규칙 적용)
    
    - 윈도우 cmd창으로 가서 인스턴스 IP로 ping을 보내면 연결된 것을 확인 할 수 있다

ICMP는 개발하는 동안만 개방해라

->관리자 모드까지 모두가 볼 수 있으니까 조심

----------

### putty로 인스턴스 연결

- putty에서 Public IP로 연결시 public key가 없다고 연결이 안됨

- puttygen에서 인스턴스를 만들면서 받은 key pair을 Load함. (pem파일)
  
  - save private key 선택 -> 저장
  
  - ppk로 파일확장자 변경되서 저장됨
    
    - ppk로 바꿔주는 이유는 putty가 ppk밖에 읽지 못함

이제 만들어준 ppk를 putty에서도 사용 가능하도록 경로 연결 해준다

- SSH
  
  - Auth
    
    - Credentials
      
      - Public-key authentication
        
        - 하위 2개 모두 ppk파일 연결
    
    - GSSAPI
      
      - User-supplied GSSAPI library path
        
        - ppk 파일 연결

위 과정 모두 완료 후 인스턴스 주소 연결

    에러메시지가 나오지만 무시하고 진행하면 연결된 것을 볼 수 있다

----------

- 인스턴스 private IP
  
  - aws에 있는 네트워크 장비들과 통신하기 위한 주소의 IP

- putty 서버 -> 보안키 접속
  
  - 들어오려는 것들에게 포트열어주기
  
  - pem / ppk
    
    - 외부 접속을 허용해주는 key
    
    - 외부에서 접속을 할 때 서버의 보안키가 없으면 들어오지 못한다
    
    - putty는 pem을 인식 못하기 때문에 ppk로 변환

-------------

### 암호화 기법

- 대칭키
  
  - 암호화 / 복호화를 하나의 키로 함
    
    - 비밀키
      
      - ex) 공인인증서
      
      - 송수신자가 모두 같은 키를 가짐

- 비대칭키
  
  - 공개키
  
  - 개인키 - 나만 가지고 있음
